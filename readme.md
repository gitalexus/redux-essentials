# Работа с Redux в версии RTK (разбор Redux Essentials Tutorial)

В приложении используется моковый REST сервер на базе пакета msw
Сами данные генерируются с помощью пакета @faker-js/faker
Типизировалось самостоятельно, поэтому могут быть ошибки, требуется дальнейшее уточнение

**Опубликованное приложение:**

> https://gitalexus.github.io/redux-essentials/

> :warning: приложение может загружаться несколько секунд, так как содержит в себе моковый сервер

## Особенности работы на gh-pages

### base в vite.comfig.ts (для изменения путей в ссылка в зависимости от режима работы )

Сервер разработки запускает приложения на ip адресе localhost, а на gp-pages приложение расположено в папке redux-essential поэтому для корректной работы используется установка различных base в зависимости от режима разработки в vite.config.ts

### подключение мокового сервера в main.ts (для изменения пути подключения в зависимости от режима работы)

По это же причине использовано динамическое подключение мокового сервера в main.tsx

```ts
// Start our mock API server
const { worker } = await import("./api/server");
await worker.start({
  onUnhandledRequest: "bypass",
  serviceWorker: {
    url: `${import.meta.env.BASE_URL}mockServiceWorker.js`,
  },
});
```

### Настройки react-router в app.tsx (для постановок в маршруты)

```ts
const base = import.meta.env.BASE_URL;
<Router basename={base}>
```

## Реализовано:

- Создание Slices глобального store (RootStore) c помощью createSlice, который возвращает автоматически сгенерированные actions и reducer
- Объединение слайсов в единый редьеюсер с помощью configureStore
- Модификация данных в Store с учетом интеграции Immer в пакет RTK
- Использование Селекторов и хука useSelect (useAppSelect - типизированный вариант) для доступа к данным хранилища из любого компонента в любом месте приложения
- Использование переиспользуемых селекторов с целью вынесения их логики в единое место (slice)
- Вызовы dispatch (useAppDispatch - типизированный вариант) с ранее сформированными actions
- Можно увидеть разницу при обращении к store в редьюсерах слайса и при обращении к store в селекторах (первые используют, а вторые нет имя слайса)
- Асинхронные действия с помощью Redux-Thunk функций (createAsyncThunk)
- Дополнение редьюсра extraReducers(builder) в который собираем обработки автоматически создаваемых actions на базе состояний промиса и использование этого в data-fetching и управлении состояниями компонетов
- Исопльзование в асинхронных unwrap для обработки результатов диспатча асинхронного дейтсвия в try ... catch блоках
